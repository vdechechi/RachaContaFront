{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport DxButton from \"devextreme-vue/button\";\nimport DxToolbar, { DxItem } from \"devextreme-vue/toolbar\";\nimport auth from \"../auth\";\nimport { useRouter, useRoute } from 'vue-router';\nimport { ref } from 'vue';\nimport UserPanel from \"./user-panel\";\nexport default {\n  props: {\n    menuToggleEnabled: Boolean,\n    title: String,\n    toggleMenuFunc: Function,\n    logOutFunc: Function\n  },\n  setup() {\n    const router = useRouter();\n    const route = useRoute();\n    const email = ref(\"\");\n    auth.getUser().then(e => email.value = e.data.email);\n    const userMenuItems = [{\n      text: \"Profile\",\n      icon: \"user\",\n      onClick: onProfileClick\n    }, {\n      text: \"Logout\",\n      icon: \"runner\",\n      onClick: onLogoutClick\n    }];\n    function onLogoutClick() {\n      auth.logOut();\n      router.push({\n        path: \"/login-form\",\n        query: {\n          redirect: route.path\n        }\n      });\n    }\n    function onProfileClick() {\n      router.push({\n        path: \"/profile\",\n        query: {\n          redirect: route.path\n        }\n      });\n    }\n    return {\n      email,\n      userMenuItems\n    };\n  },\n  components: {\n    DxButton,\n    DxToolbar,\n    DxItem,\n    UserPanel\n  }\n};","map":{"version":3,"names":["DxButton","DxToolbar","DxItem","auth","useRouter","useRoute","ref","UserPanel","props","menuToggleEnabled","Boolean","title","String","toggleMenuFunc","Function","logOutFunc","setup","router","route","email","getUser","then","e","value","data","userMenuItems","text","icon","onClick","onProfileClick","onLogoutClick","logOut","push","path","query","redirect","components"],"sources":["C:\\Users\\vinic\\OneDrive\\√Årea de Trabalho\\racha-conta\\front\\src\\components\\header-toolbar.vue"],"sourcesContent":["<template>\n  <header class=\"header-component\">\n    <dx-toolbar class=\"header-toolbar\">\n      <dx-item\n        :visible=\"menuToggleEnabled\"\n        location=\"before\"\n        css-class=\"menu-button\"\n      >\n        <template #default>\n          <dx-button\n            icon=\"menu\"\n            styling-mode=\"text\"\n            @click=\"toggleMenuFunc\"\n          />\n        </template>\n      </dx-item>\n\n      <dx-item\n        v-if=\"title\"\n        location=\"before\"\n        css-class=\"header-title dx-toolbar-label\"\n      >\n        <div>{{ title }}</div>\n      </dx-item>\n\n      <dx-item\n        location=\"after\"\n        locate-in-menu=\"auto\"\n        menu-item-template=\"menuUserItem\"\n      >\n      <template #default>\n          <div>\n            <dx-button\n              class=\"user-button authorization\"\n              :width=\"210\"\n              height=\"100%\"\n              styling-mode=\"text\"\n            >\n              <user-panel :email=\"email\" :menu-items=\"userMenuItems\" menu-mode=\"context\" />\n            </dx-button>\n          </div>\n        </template>\n      </dx-item>\n      \n      <template #menuUserItem>\n        <user-panel\n          :email=\"email\"\n          :menu-items=\"userMenuItems\"\n          menu-mode=\"list\"\n        />\n      </template>\n    </dx-toolbar>\n  </header>\n</template>\n\n<script>\nimport DxButton from \"devextreme-vue/button\";\nimport DxToolbar, { DxItem } from \"devextreme-vue/toolbar\";\nimport auth from \"../auth\";\nimport { useRouter, useRoute } from 'vue-router';\nimport { ref } from 'vue';\n\nimport UserPanel from \"./user-panel\";\n\nexport default {\n  props: {\n    menuToggleEnabled: Boolean,\n    title: String,\n    toggleMenuFunc: Function,\n    logOutFunc: Function\n  },\n  setup() {\n    const router = useRouter();\n    const route = useRoute();\n\n    const email = ref(\"\");\n    auth.getUser().then((e) => email.value = e.data.email);\n    \n    const userMenuItems = [{\n        text: \"Profile\",\n        icon: \"user\",\n        onClick: onProfileClick\n      },\n      {\n        text: \"Logout\",\n        icon: \"runner\",\n        onClick: onLogoutClick\n    }];\n      \n    function onLogoutClick() {\n      auth.logOut();\n      router.push({\n        path: \"/login-form\",\n        query: { redirect: route.path }\n      });\n    }\n\n    function onProfileClick() {\n      router.push({\n        path: \"/profile\",\n        query: { redirect: route.path }\n      });\n    }\n\n    return {\n      email,\n      userMenuItems\n    };\n  },\n  components: {\n    DxButton,\n    DxToolbar,\n    DxItem,\n    UserPanel\n  }\n};\n</script>\n\n<style lang=\"scss\">\n@import \"../themes/generated/variables.base.scss\";\n@import \"../dx-styles.scss\";\n\n.header-component {\n  flex: 0 0 auto;\n  z-index: 1;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n\n  .dx-toolbar .dx-toolbar-item.menu-button > .dx-toolbar-item-content .dx-icon {\n    color: $base-accent;\n  }\n}\n\n.dx-toolbar.header-toolbar .dx-toolbar-items-container .dx-toolbar-after {\n  padding: 0 40px;\n\n  .screen-x-small & {\n    padding: 0 20px;\n  }\n}\n\n.dx-toolbar .dx-toolbar-item.dx-toolbar-button.menu-button {\n  width: $side-panel-min-width;\n  text-align: center;\n  padding: 0;\n}\n\n.header-title .dx-item-content {\n  padding: 0;\n  margin: 0;\n}\n\n.dx-theme-generic {\n  .dx-toolbar {\n    padding: 10px 0;\n  }\n\n  .user-button > .dx-button-content {\n    padding: 3px;\n  }\n}\n</style>\n"],"mappings":";AAwDA,OAAOA,QAAO,MAAO,uBAAuB;AAC5C,OAAOC,SAAS,IAAIC,MAAK,QAAS,wBAAwB;AAC1D,OAAOC,IAAG,MAAO,SAAS;AAC1B,SAASC,SAAS,EAAEC,QAAO,QAAS,YAAY;AAChD,SAASC,GAAE,QAAS,KAAK;AAEzB,OAAOC,SAAQ,MAAO,cAAc;AAEpC,eAAe;EACbC,KAAK,EAAE;IACLC,iBAAiB,EAAEC,OAAO;IAC1BC,KAAK,EAAEC,MAAM;IACbC,cAAc,EAAEC,QAAQ;IACxBC,UAAU,EAAED;EACd,CAAC;EACDE,KAAKA,CAAA,EAAG;IACN,MAAMC,MAAK,GAAIb,SAAS,CAAC,CAAC;IAC1B,MAAMc,KAAI,GAAIb,QAAQ,CAAC,CAAC;IAExB,MAAMc,KAAI,GAAIb,GAAG,CAAC,EAAE,CAAC;IACrBH,IAAI,CAACiB,OAAO,CAAC,CAAC,CAACC,IAAI,CAAEC,CAAC,IAAKH,KAAK,CAACI,KAAI,GAAID,CAAC,CAACE,IAAI,CAACL,KAAK,CAAC;IAEtD,MAAMM,aAAY,GAAI,CAAC;MACnBC,IAAI,EAAE,SAAS;MACfC,IAAI,EAAE,MAAM;MACZC,OAAO,EAAEC;IACX,CAAC,EACD;MACEH,IAAI,EAAE,QAAQ;MACdC,IAAI,EAAE,QAAQ;MACdC,OAAO,EAAEE;IACb,CAAC,CAAC;IAEF,SAASA,aAAaA,CAAA,EAAG;MACvB3B,IAAI,CAAC4B,MAAM,CAAC,CAAC;MACbd,MAAM,CAACe,IAAI,CAAC;QACVC,IAAI,EAAE,aAAa;QACnBC,KAAK,EAAE;UAAEC,QAAQ,EAAEjB,KAAK,CAACe;QAAK;MAChC,CAAC,CAAC;IACJ;IAEA,SAASJ,cAAcA,CAAA,EAAG;MACxBZ,MAAM,CAACe,IAAI,CAAC;QACVC,IAAI,EAAE,UAAU;QAChBC,KAAK,EAAE;UAAEC,QAAQ,EAAEjB,KAAK,CAACe;QAAK;MAChC,CAAC,CAAC;IACJ;IAEA,OAAO;MACLd,KAAK;MACLM;IACF,CAAC;EACH,CAAC;EACDW,UAAU,EAAE;IACVpC,QAAQ;IACRC,SAAS;IACTC,MAAM;IACNK;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}