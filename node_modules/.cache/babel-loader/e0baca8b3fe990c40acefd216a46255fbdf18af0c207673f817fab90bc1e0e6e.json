{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"link\"\n};\nconst _hoisted_2 = {\n  class: \"dx-button-text\"\n};\nconst _hoisted_3 = {\n  key: 1\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_dx_required_rule = _resolveComponent(\"dx-required-rule\");\n  const _component_dx_email_rule = _resolveComponent(\"dx-email-rule\");\n  const _component_dx_label = _resolveComponent(\"dx-label\");\n  const _component_dx_item = _resolveComponent(\"dx-item\");\n  const _component_dx_button_options = _resolveComponent(\"dx-button-options\");\n  const _component_dx_button_item = _resolveComponent(\"dx-button-item\");\n  const _component_router_link = _resolveComponent(\"router-link\");\n  const _component_dx_load_indicator = _resolveComponent(\"dx-load-indicator\");\n  const _component_dx_form = _resolveComponent(\"dx-form\");\n  return _openBlock(), _createElementBlock(\"form\", {\n    class: \"login-form\",\n    onSubmit: _cache[0] || (_cache[0] = _withModifiers((...args) => $setup.onSubmit && $setup.onSubmit(...args), [\"prevent\"]))\n  }, [_createVNode(_component_dx_form, {\n    \"form-data\": $setup.formData,\n    disabled: $setup.loading\n  }, {\n    signInTemplate: _withCtx(() => [_createElementVNode(\"div\", null, [_createElementVNode(\"span\", _hoisted_2, [$setup.loading ? (_openBlock(), _createBlock(_component_dx_load_indicator, {\n      key: 0,\n      width: \"24px\",\n      height: \"24px\",\n      visible: true\n    })) : _createCommentVNode(\"v-if\", true), !$setup.loading ? (_openBlock(), _createElementBlock(\"span\", _hoisted_3, \"Sign In\")) : _createCommentVNode(\"v-if\", true)])])]),\n    default: _withCtx(() => [_createVNode(_component_dx_item, {\n      \"data-field\": \"email\",\n      \"editor-type\": \"dxTextBox\",\n      \"editor-options\": {\n        stylingMode: 'filled',\n        placeholder: 'Email',\n        mode: 'email'\n      }\n    }, {\n      default: _withCtx(() => [_createVNode(_component_dx_required_rule, {\n        message: \"Email is required\"\n      }), _createVNode(_component_dx_email_rule, {\n        message: \"Email is invalid\"\n      }), _createVNode(_component_dx_label, {\n        visible: false\n      })]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_dx_item, {\n      \"data-field\": \"password\",\n      \"editor-type\": \"dxTextBox\",\n      \"editor-options\": {\n        stylingMode: 'filled',\n        placeholder: 'Password',\n        mode: 'password'\n      }\n    }, {\n      default: _withCtx(() => [_createVNode(_component_dx_required_rule, {\n        message: \"Password is required\"\n      }), _createVNode(_component_dx_label, {\n        visible: false\n      })]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_dx_item, {\n      \"data-field\": \"rememberMe\",\n      \"editor-type\": \"dxCheckBox\",\n      \"editor-options\": {\n        text: 'Remember me',\n        elementAttr: {\n          class: 'form-text'\n        }\n      }\n    }, {\n      default: _withCtx(() => [_createVNode(_component_dx_label, {\n        visible: false\n      })]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_dx_button_item, null, {\n      default: _withCtx(() => [_createVNode(_component_dx_button_options, {\n        width: \"100%\",\n        type: \"default\",\n        template: \"signInTemplate\",\n        \"use-submit-behavior\": true\n      })]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_dx_item, null, {\n      default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_router_link, {\n        to: \"/reset-password\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"Forgot password?\")]),\n        _: 1 /* STABLE */\n      })])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_dx_button_item, null, {\n      default: _withCtx(() => [_createVNode(_component_dx_button_options, {\n        text: \"Create an account\",\n        width: \"100%\",\n        \"on-click\": $setup.onCreateAccountClick\n      }, null, 8 /* PROPS */, [\"on-click\"])]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"form-data\", \"disabled\"])], 32 /* NEED_HYDRATION */);\n}","map":{"version":3,"names":["class","key","_createElementBlock","onSubmit","_cache","_withModifiers","args","$setup","_createVNode","_component_dx_form","formData","disabled","loading","signInTemplate","_withCtx","_createElementVNode","_hoisted_2","_createBlock","_component_dx_load_indicator","width","height","visible","_createCommentVNode","_hoisted_3","default","_component_dx_item","stylingMode","placeholder","mode","_component_dx_required_rule","message","_component_dx_email_rule","_component_dx_label","_","text","elementAttr","_component_dx_button_item","_component_dx_button_options","type","template","_hoisted_1","_component_router_link","to","_createTextVNode","onCreateAccountClick"],"sources":["C:\\Users\\vinic\\OneDrive\\√Årea de Trabalho\\racha-conta\\front\\src\\views\\login-form.vue"],"sourcesContent":["<template>\n  <form class=\"login-form\" @submit.prevent=\"onSubmit\">\n    <dx-form :form-data=\"formData\" :disabled=\"loading\">\n      <dx-item\n        data-field=\"email\"\n        editor-type=\"dxTextBox\"\n        :editor-options=\"{ stylingMode: 'filled', placeholder: 'Email', mode: 'email' }\"\n      >\n        <dx-required-rule message=\"Email is required\" />\n        <dx-email-rule message=\"Email is invalid\" />\n        <dx-label :visible=\"false\" />\n      </dx-item>\n      <dx-item\n        data-field='password'\n        editor-type='dxTextBox'\n        :editor-options=\"{ stylingMode: 'filled', placeholder: 'Password', mode: 'password' }\"\n      >\n        <dx-required-rule message=\"Password is required\" />\n        <dx-label :visible=\"false\" />\n      </dx-item>\n      <dx-item\n        data-field=\"rememberMe\"\n        editor-type=\"dxCheckBox\"\n        :editor-options=\"{ text: 'Remember me', elementAttr: { class: 'form-text' } }\"\n      >\n        <dx-label :visible=\"false\" />\n      </dx-item>\n      <dx-button-item>\n        <dx-button-options\n          width=\"100%\"\n          type=\"default\"\n          template=\"signInTemplate\"\n          :use-submit-behavior=\"true\"\n        >\n        </dx-button-options>\n      </dx-button-item>\n      <dx-item>\n        <template #default>\n          <div class=\"link\">\n            <router-link to=\"/reset-password\">Forgot password?</router-link>\n          </div>\n        </template>\n      </dx-item>\n      <dx-button-item>\n        <dx-button-options\n          text=\"Create an account\"\n          width=\"100%\"\n          :on-click=\"onCreateAccountClick\"\n        />\n      </dx-button-item>\n      <template #signInTemplate>\n        <div>\n          <span class=\"dx-button-text\">\n            <dx-load-indicator v-if=\"loading\" width=\"24px\" height=\"24px\" :visible=\"true\" />\n            <span v-if=\"!loading\">Sign In</span>\n          </span>\n        </div>\n      </template>\n    </dx-form>\n  </form>\n</template>\n\n<script>\nimport DxLoadIndicator from \"devextreme-vue/load-indicator\";\nimport DxForm, {\n  DxItem,\n  DxEmailRule,\n  DxRequiredRule,\n  DxLabel,\n  DxButtonItem,\n  DxButtonOptions\n} from \"devextreme-vue/form\";\nimport notify from 'devextreme/ui/notify';\n\nimport auth from \"../auth\";\n\nimport { reactive, ref } from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\n\nexport default {\n  setup() {\n    const route = useRoute();\n    const router = useRouter();\n\n    const formData = reactive({\n      email:\"\",\n      password:\"\"\n    });\n    const loading = ref(false);\n\n    function onCreateAccountClick() {\n      router.push(\"/create-account\");\n    }\n\n    async function onSubmit() {\n      const { email, password } = formData;\n      loading.value = true;\n      const result = await auth.logIn(email, password);\n      if (!result.isOk) {\n        loading.value = false;\n        notify(result.message, \"error\", 2000);\n      } else {\n        router.push(route.query.redirect || \"/home\");\n      }\n    }\n\n    return {\n      formData,\n      loading,\n      onCreateAccountClick,\n      onSubmit\n    };\n  },\n  components: {\n    DxLoadIndicator,\n    DxForm,\n    DxEmailRule,\n    DxRequiredRule,\n    DxItem,\n    DxLabel,\n    DxButtonItem,\n    DxButtonOptions\n  }\n};\n</script>\n\n<style lang=\"scss\">\n@import \"../themes/generated/variables.base.scss\";\n\n.login-form {\n  .link {\n    text-align: center;\n    font-size: 16px;\n    font-style: normal;\n\n    a {\n      text-decoration: none;\n    }\n  }\n\n  .form-text {\n    margin: 10px 0;\n    color: rgba($base-text-color, alpha($base-text-color) * 0.7);\n  }\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}